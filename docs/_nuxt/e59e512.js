(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{368:function(e,t,r){var content=r(455);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(118).default)("28f1127f",content,!0,{sourceMap:!1})},453:function(e){e.exports=JSON.parse('{"version":"1.0.7-0","changeLog":""}')},454:function(e,t,r){"use strict";r(368)},455:function(e,t,r){var n=r(117),o=r(239),l=r(456),c=r(457),m=r(458),f=r(459),d=r(460),v=n(!1),h=o(l),x=o(c),w=o(m),y=o(f),k=o(d);v.push([e.i,'@font-face{font-family:"Open Sans";font-style:normal;font-weight:700;src:url('+h+') format("truetype")}@font-face{font-family:"Open Sans";font-style:normal;font-weight:400;src:url('+x+') format("truetype")}@font-face{font-family:"SourceHanSerifSC";font-style:normal;font-weight:700;src:url('+w+') format("opentype")}[dir=ltr] h1{margin-left:0}[dir=ltr] h1,[dir=rtl] h1{margin-right:0}[dir=rtl] h1{margin-left:0}h1{display:block;margin-top:.3em;margin-bottom:.3em;font-size:1.8em;font-weight:700}[dir=ltr] h2{margin-left:0}[dir=ltr] h2,[dir=rtl] h2{margin-right:0}[dir=rtl] h2{margin-left:0}h2{display:block;margin-top:.25em;margin-bottom:.25em;font-size:1.5em;font-weight:400}[dir=ltr] small{margin-left:0}[dir=ltr] small,[dir=rtl] small{margin-right:0}[dir=rtl] small{margin-left:0}small{display:block;margin-top:.1em;margin-bottom:.1em;font-size:.6em;font-weight:700}[dir=ltr] p{margin-left:0}[dir=ltr] p,[dir=rtl] p{margin-right:0}[dir=rtl] p{margin-left:0}p{display:block;margin-top:0;margin-bottom:1.5em;font-size:.8em}.root{min-width:600px}.root,.root .poster-container{display:flex;flex-direction:column;align-items:center}.root .poster-container{font-family:"Open Sans";justify-content:center}.root .poster-container .poster-control{min-width:600px}.root .poster-container .poster-control .el-upload{display:flex;justify-content:center;align-items:center;border:1px dashed #888;border-radius:6px}.root .poster-container .poster-control .el-upload .member-avatar-uploader{width:32px;height:32px;display:flex;justify-content:center;align-items:center;cursor:pointer}.root .poster-container .poster-control .el-upload .member-avatar-uploader:hover{border-color:#409eff}.root .poster-container #poster-preview{width:600px;min-width:600px;max-width:600px;height:1067.2px;display:flex;flex-direction:column;justify-content:space-between;align-items:stretch;padding:2.5em;background:url('+y+") no-repeat;background-size:contain;text-align:center;box-sizing:border-box}.root .poster-container #poster-preview .footer,.root .poster-container #poster-preview .header{font-size:1em;height:15%;display:flex}.root .poster-container #poster-preview .header{font-size:1em;justify-content:space-between;align-items:stretch;border-bottom:1px dashed #000}.root .poster-container #poster-preview .header .forum-banner{font-size:1em;width:55%;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.root .poster-container #poster-preview .header .forum-banner .forum-detail,.root .poster-container #poster-preview .header .forum-banner .forum-name,.root .poster-container #poster-preview .header .forum-banner .forum-slogon{margin-top:0;margin-bottom:0}.root .poster-container #poster-preview .header .forum-banner .forum-name{text-align:justify;-moz-text-align-last:justify;text-align-last:justify;text-justify:inter-ideograph}.root .poster-container #poster-preview .header .forum-banner .forum-slogon{background:#000;color:#ffc600;text-transform:uppercase;font-weight:700}.root .poster-container #poster-preview .header .forum-banner .forum-detail{text-align:justify;-moz-text-align-last:justify;text-align-last:justify;text-justify:inter-ideograph}.root .poster-container #poster-preview .header .logo{font-size:1em;width:25%;background:url("+k+") top no-repeat;background-size:contain}.root .poster-container #poster-preview .footer{font-size:1em;border-top:1px dashed #000;flex-direction:column;justify-content:flex-end;align-items:center}.root .poster-container #poster-preview .footer img{font-size:1em;width:20%;height:auto}.root .poster-container #poster-preview .content{font-size:1em;height:60%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.root .poster-container #poster-preview .content .member-avatar,.root .poster-container #poster-preview .content .member-avatar-mask{font-size:1em;width:128px;height:128px;border:.3em solid #ff7353;border-radius:50%;background:#ffa91b;-o-object-fit:cover;object-fit:cover}.root .poster-container #poster-preview .content .topic-slogon{width:100%;color:#fff;background:#000}.root .poster-container #poster-preview .content .topic-detail{font-size:1em;width:100%;text-align:left}.root .copy-right{border-top:1px dashed grey;margin:10px 0;text-align:center;color:#aaa}.root .copy-right a{color:#aaa}",""]),e.exports=v},456:function(e,t,r){e.exports=r.p+"fonts/OpenSans-Bold.dbb97fd.ttf"},457:function(e,t,r){e.exports=r.p+"fonts/OpenSans-Light.ed41bed.ttf"},458:function(e,t,r){e.exports=r.p+"fonts/SourceHanSerifSC-Heavy.8a4275a.otf"},459:function(e,t,r){e.exports=r.p+"img/bg.d3af717.png"},460:function(e,t,r){e.exports=r.p+"img/logo.c19ddd9.png"},465:function(e,t,r){"use strict";r.r(t);var n=r(8),o=(r(59),r(19),r(42),r(43),r(369),r(233),r(0)),l=r(371),c=r(372),m=r.n(c),f=r(397),d=r.n(f),v=r(461),h=r(206),x=r(207),w=(r(60),r(77),r(78),r(62),r(79),r(237),r(116),function(){function e(){Object(h.a)(this,e)}var t,r,o,l,c,m,f,d;return Object(x.a)(e,null,[{key:"copyStyle",value:(d=Object(n.a)(regeneratorRuntime.mark((function e(source,t){var r,n,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!source.cssText){e.next=4;break}t.cssText=source.cssText,e.next=19;break;case 4:r=0,n=Array.from(source);case 5:if(!(r<n.length)){e.next=19;break}if(o=n[r],l=source.getPropertyValue(o),c=source.getPropertyPriority(o),"background-image"!==o||!l.includes("url")){e.next=15;break}return e.t0="url(",e.next=13,this.src2DataURL(l.split(/\(|\)/g)[1].replace(/'|"/g,""));case 13:e.t1=e.sent,l=e.t0.concat.call(e.t0,e.t1,")");case 15:t.setProperty(o,l,c);case 16:r++,e.next=5;break;case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"walk",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o,i,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:[],t){e.next=3;break}return e.abrupt("return");case 3:o=t.children,i=0;case 5:if(!(i<o.length)){e.next=13;break}if(1!==(l=o[i]).nodeType){e.next=10;break}return e.next=10,this.walk(l,r,[].concat(Object(v.a)(n),[i]));case 10:i++,e.next=5;break;case 13:return e.next=15,r(t,n);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getNode",value:function(e,t){return t.reduce((function(pre,e){return pre.children.item(e)}),e)}},{key:"cloneNode",value:(m=Object(n.a)(regeneratorRuntime.mark((function e(source){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=source.cloneNode(!0),e.next=3,this.walk(source,function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.copyStyle(getComputedStyle(n),r.getNode(t,o).style);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"dom2Svg",value:(c=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,svg,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.cloneNode(t);case 4:return(o=e.sent).setAttribute("xmlns","http://www.w3.org/1999/xhtml"),svg='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(r,'" height="').concat(n,'"><foreignObject x="0" y="0" width="100%" height="100%">').concat((new XMLSerializer).serializeToString(o),"</foreignObject></svg>"),l="data:image/svg+xml;charset=utf-8,".concat(svg),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"src2Canvas",value:(l=Object(n.a)(regeneratorRuntime.mark((function e(t){var image,canvas,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.promises.createImage(t);case 4:return image=e.sent,(canvas=document.createElement("canvas")).width=2*image.width,canvas.height=2*image.height,null==(r=canvas.getContext("2d"))||r.scale(2,2),null==r||r.drawImage(image,0,0),e.abrupt("return",canvas);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"src2Blob",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(t){var canvas,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.src2Canvas(t);case 2:if(canvas=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.promises.canvas2Blob(canvas);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"src2DataURL",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t){var canvas,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.src2Canvas(t);case 2:if(canvas=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r=canvas.toDataURL(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"dom2Png",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:0,n=c.length>2&&void 0!==c[2]?c[2]:0,e.next=4,this.dom2Svg(t,r,n);case 4:return o=e.sent,e.next=7,this.src2DataURL(o);case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}());w.promises={createImage:function(e){return new Promise((function(t,r){var image=new Image;image.onload=function(){return t(image)},image.onerror=r,image.src=e}))},canvas2Blob:function(canvas,e,t){return new Promise((function(r,n){try{canvas.toBlob(r,e,t)}catch(e){n(e)}}))},blob2DataURL:function(e){return new Promise((function(t,r){try{var n=new FileReader;n.onload=function(e){var r;return t(null===(r=e.target)||void 0===r?void 0:r.result)},n.readAsDataURL(e)}catch(e){r(e)}}))}};var y=w,k=r(453);window.URL||window.webkitURL;o.default.use(l.a);var _=o.default.extend({data:function(){return{forumName:"2021中国开源年会",forumSlogon:"Happy Hacking",forumDetail:"10月30日 - 10月31日 成都·北京·上海·线上",memberAvatarUrl:"",memberRole:"开源社2021届成员",memberName:"姓名",topicTitle:"这是一个很神秘的主题",topicSlogon:"开源社邀请您来一起开心快乐开源",topicDetail:"## 大会论坛\nKeynote 主题演讲、人工智能、区块链、云计算、大数据、开源硬件、操作系统、Web 应用开发、开源教育、开源治理、女性论坛、开源百宝箱、开源公益、开源社区、开源文化、开源商业\n\n## 社区活动\n城市聚会、特色活动、开源·真·黑客马拉松、开源市集、汉服主题、小吃走廊、开源读书会、人找事事找人\n",qr:"https://www.bagevent.com/event/7685233",track:"",imageUrl:null,title:"",name:"",topic:"",time:"",isKeynote:!1,avatarInput:null,nameFontSize:1,topicFontSize:1,avatarDefaultPos:{width:0,height:0,top:0,left:0},avatarPos:{width:0,height:0,top:0,left:0},avatarZoom:1,isMouseDown:!1,mouseX:0,mouseY:0,isDownloading:!1,posterBase64:"",lang:"zh"}},computed:{getVersion:function(){return k.version},getChangeLog:function(){return k.changeLog},getMd:function(){return(new d.a).render(this.topicDetail)}},asyncComputed:{getQr:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.qr){t.next=2;break}return t.abrupt("return","");case 2:return t.next=4,m.a.toDataURL(e.qr);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){},methods:{updateAvatar:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,y.promises.blob2DataURL(e.raw);case 4:t.memberAvatarUrl=r.sent;case 5:case"end":return r.stop()}}),r)})))()},download:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isDownloading=!0,r=document.getElementById("poster-preview"),t.next=4,y.dom2Png(r,null==r?void 0:r.clientWidth,null==r?void 0:r.clientHeight);case 4:if(n=t.sent){t.next=7;break}return t.abrupt("return");case 7:(o=document.createElement("a")).href=n,o.download="".concat(e.memberName,".jpg"),o.click(),e.isDownloading=!1;case 12:case"end":return t.stop()}}),t)})))()}}}),R=(r(454),r(57)),component=Object(R.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[r("div",{staticClass:"poster-container"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isDownloading,expression:"isDownloading"}],staticClass:"poster-control",attrs:{"element-loading-text":"生成海报中","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[r("h1",[e._v("COSCon 2021 海报生成器（版本："+e._s(e.getVersion)+"）")]),e._v(" "),r("el-form",[r("el-tabs",[r("el-tab-pane",{attrs:{label:"论坛信息"}},[r("el-form-item",{attrs:{id:"track",label:"论坛名称"}},[r("el-input",{model:{value:e.forumName,callback:function(t){e.forumName=t},expression:"forumName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"论坛口号"}},[r("el-input",{model:{value:e.forumSlogon,callback:function(t){e.forumSlogon=t},expression:"forumSlogon"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"论坛详情"}},[r("el-input",{model:{value:e.forumDetail,callback:function(t){e.forumDetail=t},expression:"forumDetail"}})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"成员信息"}},[r("el-form-item",{attrs:{label:"成员照片（虽支持自动缩放，建议最好使用类方形照片，以达最好效果）"}},[r("el-upload",{attrs:{action:"#","show-file-list":!1,"on-change":e.updateAvatar,"auto-upload":!1,accept:"image/*"}},[e.memberAvatarUrl?r("img",{staticClass:"member-avatar-uploader",attrs:{src:e.memberAvatarUrl}}):r("i",{staticClass:"el-icon-plus member-avatar-uploader"})])],1),e._v(" "),r("el-form-item",{attrs:{label:"成员角色"}},[r("el-input",{model:{value:e.memberRole,callback:function(t){e.memberRole=t},expression:"memberRole"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"成员姓名"}},[r("el-input",{model:{value:e.memberName,callback:function(t){e.memberName=t},expression:"memberName"}})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"演讲信息"}},[r("el-form-item",{attrs:{label:"演讲标题"}},[r("el-input",{model:{value:e.topicTitle,callback:function(t){e.topicTitle=t},expression:"topicTitle"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"演讲口号"}},[r("el-input",{model:{value:e.topicSlogon,callback:function(t){e.topicSlogon=t},expression:"topicSlogon"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"演讲内容（支持md语法）"}},[r("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:e.topicDetail,callback:function(t){e.topicDetail=t},expression:"topicDetail"}})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"报名信息"}},[r("el-form-item",{attrs:{label:"报名链接（请输入url自动生成报名二维码）"}},[r("el-input",{model:{value:e.qr,callback:function(t){e.qr=t},expression:"qr"}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.download()}}},[e._v("\n              生成海报\n            ")])],1)],1)],1)],1),e._v(" "),r("div",{attrs:{id:"poster-preview"}},[r("div",{staticClass:"header"},[r("div",{staticClass:"forum-banner"},[r("h1",{staticClass:"forum-name"},[e._v(e._s(e.forumName))]),e._v(" "),r("h2",{staticClass:"forum-slogon"},[e._v(e._s(e.forumSlogon))]),e._v(" "),r("small",{staticClass:"forum-detail"},[e._v(e._s(e.forumDetail))])]),e._v(" "),r("div",{staticClass:"logo"})]),e._v(" "),r("div",{staticClass:"content"},[e.memberAvatarUrl?r("img",{staticClass:"member-avatar",attrs:{src:e.memberAvatarUrl}}):r("div",{staticClass:"member-avatar"}),e._v(" "),r("h2",{staticClass:"member-role"},[e._v(e._s(e.memberRole))]),e._v(" "),r("h1",{staticClass:"member-name"},[e._v(e._s(e.memberName))]),e._v(" "),r("h2",{staticClass:"topic-title"},[e._v(e._s(e.topicTitle))]),e._v(" "),r("h2",{staticClass:"topic-slogon"},[e._v(e._s(e.topicSlogon))]),e._v(" "),r("div",{staticClass:"topic-detail",domProps:{innerHTML:e._s(e.getMd)}})]),e._v(" "),r("div",{staticClass:"footer"},[e.getQr?r("img",{attrs:{src:e.getQr}}):e._e(),e._v(" "),r("small",[e._v("扫描二维码报名参会")])])])]),e._v(" "),r("div",[e._v(e._s(e.getChangeLog))]),e._v(" "),e._m(0)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"copy-right"},[r("small",[r("i",{staticClass:"el-icon-service"}),e._v(" 本工具由\n      "),r("a",{attrs:{href:"http://github.com/Ovilia"}},[e._v("@Ovilia")]),e._v(" 开发，"),r("a",{attrs:{href:"http://github.com/dz85"}},[e._v("@David Z.")]),e._v("\n      重构/修改，"),r("a",{attrs:{href:"mailto:geek@lzw.name"}},[e._v("问题反馈")])])])}],!1,null,null,null);t.default=component.exports}}]);